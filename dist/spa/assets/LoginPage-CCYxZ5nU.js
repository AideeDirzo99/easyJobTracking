import{Q as v}from"./QInput-B4vdJxNE.js";import{d as b,r as d,p as w,q as o,f as l,m as x,Q as g,u as E,l as V,t as k,N as n}from"./index-C_Aop0CR.js";import{l as C,s as I}from"./authApi-sLVSL3Xn.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"main-container"},L={class:"login-container"},P={class:"form"},U=b({__name:"LoginPage",setup(Q){const t=d(""),u=d(!0),s=d(""),c=E(),r=d(!1),f=async()=>{if(!m(s.value)){n.create({type:"negative",message:"Email no válido",position:"top"});return}if(!p(t.value)){n.create({type:"negative",message:"La contraseña debe tener al menos 6 caracteres y no contener espacios.",position:"top"});return}try{r.value=!0,await C(s.value,t.value),await c.push("/main"),n.create({type:"positive",message:"Inicio de sesión exitoso. ¡Bienvenido de nuevo a EmpleoTrack!",position:"top"})}catch(a){r.value=!1,console.error("Error during sign up:",a),n.create({type:"negative",message:"Hubo un error al iniciar sesión. Por favor, revisa tus datos o inténtalo de nuevo.",position:"top"})}},y=async()=>{if(!m(s.value)){n.create({type:"negative",message:"Email no válido",position:"top"});return}if(!p(t.value)){n.create({type:"negative",message:"La contraseña debe tener al menos 6 caracteres y no contener espacios.",position:"top"});return}try{r.value=!0,await I(s.value,t.value),await c.push("/main"),n.create({type:"positive",message:"Cuenta creada exitosamente. Bienvenido a EmpleoTrack!",position:"top"})}catch(a){r.value=!1,console.error("Error during sign up:",a),n.create({type:"negative",message:"Hubo un error al crear la cuenta. Por favor, revisa tus datos o inténtalo de nuevo.",position:"top"})}},p=a=>{if(!a)return!1;const e=a.trim();return!(e.length<6||e.includes(" "))},m=a=>{if(!a)return!1;const e=a.trim();return e.length>254?!1:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$/.test(e)};return(a,e)=>(V(),w("div",B,[o("div",L,[e[3]||(e[3]=o("div",{class:"logo-container"},[o("img",{src:"/Logo2.png"})],-1)),e[4]||(e[4]=o("div",{class:"welcome-text"},"Bienvenido a EmpleoTrack",-1)),e[5]||(e[5]=o("div",{class:"secondary-text"},"Cada oportunidad empieza con un buen seguimiento",-1)),o("div",P,[l(v,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=i=>s.value=i),rounded:"",outlined:"",type:"email",label:"Email",color:"secondary"},null,8,["modelValue"]),l(v,{modelValue:t.value,"onUpdate:modelValue":e[2]||(e[2]=i=>t.value=i),rounded:"",outlined:"",color:"secondary",type:u.value?"password":"text",label:"Password"},{append:x(()=>[l(k,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=i=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),l(g,{loading:r.value,unelevated:"",rounded:"",color:"secondary",label:"Ingresar",onClick:f},null,8,["loading"]),l(g,{loading:r.value,outline:"",rounded:"",color:"secondary",label:"Crear cuenta",onClick:y},null,8,["loading"])])]),e[6]||(e[6]=o("div",{class:"image-container"},[o("img",{src:"/loginImage.png"})],-1))]))}}),T=_(U,[["__scopeId","data-v-ffe8b377"]]);export{T as default};
